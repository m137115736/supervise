{"remainingRequest":"E:\\甘润\\技术监督\\supervise\\node_modules\\babel-loader\\lib\\index.js!E:\\甘润\\技术监督\\supervise\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\甘润\\技术监督\\supervise\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\甘润\\技术监督\\supervise\\src\\views\\user\\login.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\甘润\\技术监督\\supervise\\src\\views\\user\\login.vue","mtime":1623310802544},{"path":"E:\\甘润\\技术监督\\supervise\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1623122841293},{"path":"E:\\甘润\\技术监督\\supervise\\node_modules\\babel-loader\\lib\\index.js","mtime":1623122859414},{"path":"E:\\甘润\\技术监督\\supervise\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1623122841293},{"path":"E:\\甘润\\技术监督\\supervise\\node_modules\\vue-loader\\lib\\index.js","mtime":1623122856888}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { GVerify } from \"../../libs/verifyCode\";\nimport { setToken } from \"../../libs/util\";\nexport default {\n  data: function data() {\n    return {\n      loginForm: {\n        user: '',\n        password: '',\n        verify: '',\n        type: ''\n      },\n      ruleInline: {\n        type: [{\n          required: true,\n          message: '请选择账号类型',\n          trigger: 'change'\n        }],\n        user: [{\n          required: true,\n          message: '请输入管理员账号',\n          trigger: 'blur'\n        }],\n        password: [{\n          required: true,\n          message: '请输入账号密码',\n          trigger: 'blur'\n        }],\n        verify: [{\n          required: true,\n          message: '请输入图形验证码',\n          trigger: 'blur'\n        }]\n      },\n      verify: null\n    };\n  },\n  methods: {\n    loginSubmit: function loginSubmit(name) {\n      var _this = this;\n\n      _this.$refs[name].validate(function (valid) {\n        if (valid) {\n          var verifyCode = _this.loginForm.verify;\n\n          var verifyFlag = _this.verify.validate(verifyCode);\n\n          if (!verifyFlag) {\n            _this.$Message.error('验证码输入错误');\n\n            setTimeout(function () {\n              _this.verify.refresh();\n\n              _this.loginForm.verify = '';\n            }, 100);\n          } else {\n            if (_this.loginForm.type == '1') {\n              var logindata = {\n                adminnumber: _this.loginForm.user,\n                adminpassword: _this.loginForm.password\n              };\n\n              _this.$post('/admin/logoAdmin', logindata).then(function (res) {\n                if (res.code != '0000') {\n                  _this.$Message.error(res.message);\n\n                  _this.verify.refresh();\n\n                  _this.loginForm.verify = '';\n                } else {\n                  setToken(res.data);\n\n                  _this.$Message.success('登录成功!');\n\n                  _this.$router.push('home');\n                }\n              });\n            } else {}\n          }\n        } else {\n          _this.$Message.error('必填不可为空');\n\n          _this.loginForm.verify = '';\n\n          _this.verify.refresh();\n        }\n      });\n    }\n  },\n  mounted: function mounted() {\n    this.verify = new GVerify('v_container');\n  }\n};",{"version":3,"sources":["login.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<div id=\"login\">\r\n\t\t<div class=\"loginMain\">\r\n\t\t\t<!-- <h2 class=\"loginMainTitle\">Arxsys 远程会诊管理系统</h2> -->\r\n\t\t\t<div class=\"loginForm\">\r\n\t\t\t\t<Form ref=\"loginForm\" :model=\"loginForm\" :rules=\"ruleInline\">\r\n\t\t\t\t\t<!-- <FormItem prop=\"type\">\r\n\t\t\t\t\t\t<RadioGroup v-model=\"loginForm.type\" type=\"button\">\r\n\t\t\t\t\t\t\t<Radio label=\"1\" style=\"width: 100px\">管理员账号</Radio>\r\n\t\t\t\t\t\t\t<Radio label=\"2\" style=\"width: 100px\">专家端账号</Radio>\r\n\t\t\t\t\t\t\t<Radio label=\"3\" style=\"width: 100px\">申请端账号</Radio>\r\n\t\t\t\t\t\t</RadioGroup>\r\n\t\t\t\t\t</FormItem> -->\r\n\t\t\t\t\t<FormItem prop=\"user\">\r\n\t\t\t\t\t\t<Input prefix=\"md-person\" placeholder=\"请输入管理员账号\" v-model=\"loginForm.user\" size=\"large\" />\r\n\t\t\t\t\t</FormItem>\r\n\t\t\t\t\t<FormItem prop=\"password\">\r\n\t\t\t\t\t\t<Input type=\"password\" prefix=\"md-lock\" placeholder=\"请输入密码\" v-model=\"loginForm.password\"\r\n\t\t\t\t\t\t\tsize=\"large\" />\r\n\t\t\t\t\t</FormItem>\r\n\t\t\t\t\t<FormItem prop=\"verify\">\r\n\t\t\t\t\t\t<Input class=\"verifyEnter\" type=\"text\" prefix=\"md-apps\" placeholder=\"请输入验证码\"\r\n\t\t\t\t\t\t\tv-model=\"loginForm.verify\" size=\"large\" />\r\n\t\t\t\t\t\t<div class=\"verifyCode\" id=\"v_container\"></div>\r\n\t\t\t\t\t</FormItem>\r\n\t\t\t\t\t<FormItem>\r\n\t\t\t\t\t\t<Button type=\"primary\" @click=\"loginSubmit('loginForm')\" long size=\"large\">登录</Button>\r\n\t\t\t\t\t</FormItem>\r\n\t\t\t\t</Form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tGVerify\r\n\t} from '../../libs/verifyCode';\r\n\timport {\r\n\t\tsetToken\r\n\t} from '../../libs/util'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tloginForm: {\r\n\t\t\t\t\tuser: '',\r\n\t\t\t\t\tpassword: '',\r\n\t\t\t\t\tverify: '',\r\n\t\t\t\t\ttype: ''\r\n\t\t\t\t},\r\n\t\t\t\truleInline: {\r\n\t\t\t\t\ttype: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: '请选择账号类型',\r\n\t\t\t\t\t\ttrigger: 'change'\r\n\t\t\t\t\t}],\r\n\t\t\t\t\tuser: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: '请输入管理员账号',\r\n\t\t\t\t\t\ttrigger: 'blur'\r\n\t\t\t\t\t}],\r\n\t\t\t\t\tpassword: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: '请输入账号密码',\r\n\t\t\t\t\t\ttrigger: 'blur'\r\n\t\t\t\t\t}],\r\n\t\t\t\t\tverify: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: '请输入图形验证码',\r\n\t\t\t\t\t\ttrigger: 'blur'\r\n\t\t\t\t\t}]\r\n\t\t\t\t},\r\n\t\t\t\tverify: null\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tloginSubmit(name) {\r\n\t\t\t\tvar _this = this;\r\n\t\t\t\t_this.$refs[name].validate((valid) => {\r\n\t\t\t\t\tif (valid) {\r\n\t\t\t\t\t\tvar verifyCode = _this.loginForm.verify;\r\n\t\t\t\t\t\tvar verifyFlag = _this.verify.validate(verifyCode);\r\n\t\t\t\t\t\tif (!verifyFlag) {\r\n\t\t\t\t\t\t\t_this.$Message.error('验证码输入错误');\r\n\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t_this.verify.refresh()\r\n\t\t\t\t\t\t\t\t_this.loginForm.verify = '';\r\n\t\t\t\t\t\t\t}, 100);\r\n\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif (_this.loginForm.type == '1') {\r\n\t\t\t\t\t\t\t\tlet logindata = {\r\n\t\t\t\t\t\t\t\t\tadminnumber: _this.loginForm.user,\r\n\t\t\t\t\t\t\t\t\tadminpassword: _this.loginForm.password\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t_this.$post('/admin/logoAdmin', logindata)\r\n\t\t\t\t\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\t\t\t\t\tif (res.code != '0000') {\r\n\t\t\t\t\t\t\t\t\t\t\t_this.$Message.error(res.message);\r\n\t\t\t\t\t\t\t\t\t\t\t_this.verify.refresh()\r\n\t\t\t\t\t\t\t\t\t\t\t_this.loginForm.verify = '';\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\tsetToken(res.data);\r\n\t\t\t\t\t\t\t\t\t\t\t_this.$Message.success('登录成功!');\r\n\t\t\t\t\t\t\t\t\t\t\t_this.$router.push('home')\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t_this.$Message.error('必填不可为空');\r\n\t\t\t\t\t\t_this.loginForm.verify = '';\r\n\t\t\t\t\t\t_this.verify.refresh();\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.verify = new GVerify('v_container')\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\tbody {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tbackground-image: url(../../assets/login.jpg);\r\n\t\tbackground-repeat: no-repeat;\r\n\t\tbackground-size: 100% 100vh;\r\n\t}\r\n\r\n\t.loginMain {\r\n\t\twidth: 500px;\r\n\t\theight: 500px;\r\n\t\tbackground: rgba(255, 255, 255, 0.8);\r\n\t\tmargin: 0 auto;\r\n\t\tposition: relative;\r\n\t\ttop: 50%;\r\n\t\tmargin-top: 250px;\r\n\r\n\t\tpadding: 20px;\r\n\t\tborder-radius: 10px;\r\n\t}\r\n\r\n\t.loginMainTitle {\r\n\t\tmargin-top: 40px;\r\n\t\tfont-weight: lighter;\r\n\t\tfont-size: 32px;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.loginForm {\r\n\t\twidth: 300px;\r\n\t\tmargin: 40px auto;\r\n\t}\r\n\r\n\t.verifyEnter {\r\n\t\twidth: 200px;\r\n\t\tmargin-right: 3px;\r\n\r\n\t}\r\n\r\n\t.verifyCode {\r\n\t\twidth: calc(100% - 205px);\r\n\t\tbackground-color: #D7DDE4;\r\n\t\theight: 40px;\r\n\t\tdisplay: inline-block;\r\n\t\tposition: relative;\r\n\t\tvertical-align: middle;\r\n\t\tborder-radius: 4px;\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\tinput::-webkit-input-placeholder {\r\n\t\tfont-size: 14px;\r\n\t}\r\n\r\n\tselect::-webkit-input-placeholder {\r\n\t\tfont-size: 14px;\r\n\t}\r\n</style>\n"],"sourceRoot":"src/views/user"}]}