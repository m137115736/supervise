{"remainingRequest":"E:\\甘润\\技术监督\\supervise\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\甘润\\技术监督\\supervise\\src\\components\\system-dictionary.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"E:\\甘润\\技术监督\\supervise\\src\\components\\system-dictionary.vue","mtime":1623847436563},{"path":"E:\\甘润\\技术监督\\supervise\\node_modules\\css-loader\\index.js","mtime":1623122828516},{"path":"E:\\甘润\\技术监督\\supervise\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1623122856907},{"path":"E:\\甘润\\技术监督\\supervise\\node_modules\\postcss-loader\\src\\index.js","mtime":1623122859062},{"path":"E:\\甘润\\技术监督\\supervise\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1623122841293},{"path":"E:\\甘润\\技术监督\\supervise\\node_modules\\vue-loader\\lib\\index.js","mtime":1623122856888}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.screenLine {\n\tmargin-left: 10px;\n\tmargin-right: 10px;\n}\n\n.systemDictionaryScreenInner {\n\tbackground-color: #fafafa;\n\tborder: 1px solid #dce0e6;\n}\n\n.systemDictionaryScreenInner .ivu-form-item {\n\tmargin-top: 15px;\n\tmargin-bottom: 15px;\n}\n\n.systemDictionaryTable {\n\tmargin-top: 20px;\n}\n\n.systemDictionaryTableBtn {\n\tmargin-bottom: 20px;\n}\n\n.systemDictionaryTableBtn button {\n\tmargin-right: 10px;\n}\n\n.systemDictionaryPage {\n\tmargin-top: 50px;\n\ttext-align: center;\n}\n\n.addFromExpert {\n\twidth: 100%;\n\tmin-height: 60px;\n\tborder: 1px solid #dbdbdb;\n\tpadding: 5px;\n\tmargin-bottom: 16px;\n}\n",{"version":3,"sources":["system-dictionary.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyTA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"system-dictionary.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n\t<div class=\"systemDictionary\">\r\n\t\t<Breadcrumb>\r\n\t\t\t<BreadcrumbItem>系统设置</BreadcrumbItem>\r\n\t\t\t<BreadcrumbItem>数据字典</BreadcrumbItem>\r\n\t\t</Breadcrumb>\r\n\t\t<div class=\"systemDictionaryTable\">\r\n\t\t\t<div class=\"systemDictionaryTableBtn\">\r\n\t\t\t\t<Button type=\"primary\" custom-icon=\"iconfont icon-xinzeng\" @click=\"sD_TableAdd\">新建字段</Button>\r\n\t\t\t\t<Button type=\"primary\" icon=\"ios-create-outline\" @click=\"sD_TableAction('edit')\">编辑</Button>\r\n\t\t\t\t<Button type=\"warning\" custom-icon=\"iconfont icon-shanchu\" @click=\"sD_TableAction('del')\">删除</Button>\r\n\t\t\t</div>\r\n\t\t\t<Table ref=\"sD_Table\" :columns=\"sD_TableHeard\" :data=\"sD_TableData\" stripe :loading=\"tableLoadding\">\r\n\t\t\t\t<template slot-scope=\"{ row, index }\" slot=\"type\">\r\n\t\t\t\t\t<span v-if=\"row.dt==0\">字符</span>\r\n\t\t\t\t\t<span v-else-if=\"row.dt==1\">整数</span>\r\n\t\t\t\t\t<span v-else-if=\"row.dt==2\">小数</span>\r\n\t\t\t\t\t<span v-else-if=\"row.dt==3\">时间</span>\r\n\t\t\t\t</template>\r\n\t\t\t\t<template slot-scope=\"{ row, index }\" slot=\"isNull\">\r\n\t\t\t\t\t<span v-if=\"row.attrNullval==0\">是</span>\r\n\t\t\t\t\t<span v-else-if=\"row.attrNullval==1\">否</span>\r\n\t\t\t\t</template>\r\n\t\t\t\t<template slot-scope=\"{ row, index }\" slot=\"state\">\r\n\t\t\t\t\t<span v-if=\"row.attrStatus==0\">可编辑</span>\r\n\t\t\t\t\t<span v-else-if=\"row.attrStatus==1\">不可编辑</span>\r\n\t\t\t\t</template>\r\n\t\t\t</Table>\r\n\t\t</div>\r\n\t\t<div class=\"sceneFirstPage\">\r\n\t\t\t<Page :total=\"sD_PageData.totalNum\" :page-size=\"10\" show-elevator show-total @on-change=\"tablePageChange\"/>\r\n\t\t</div>\r\n\t\t<Modal v-model=\"sD_Modal\">\r\n\t\t\t<p slot=\"header\" style=\"color:#4b85fa;background: #f5f7fa;\">\r\n\t\t\t\t<span>{{sD_ModalTitle}}</span>\r\n\t\t\t</p>\r\n\t\t\t<Form ref=\"sD_FromData\" :model=\"sD_FromData\" :rules=\"sD_FromRule\" :label-width=\"80\">\r\n\t\t\t\t<FormItem label=\"中文名称\" prop=\"attrName\">\r\n\t\t\t\t\t<Input v-model=\"sD_FromData.attrName\" placeholder=\"输入字段中文名\"></Input>\r\n\t\t\t\t</FormItem>\r\n\t\t\t\t<FormItem label=\"英文名称\" prop=\"attrColname\">\r\n\t\t\t\t\t<Input v-model=\"sD_FromData.attrColname\" placeholder=\"输入字段英文名\"></Input>\r\n\t\t\t\t</FormItem>\r\n\t\t\t\t<FormItem label=\"字段类型\" prop=\"dt\">\r\n\t\t\t\t\t<Select v-model=\"sD_FromData.dt\" placeholder=\"选择字段类型\">\r\n\t\t\t\t\t\t<Option value=\"1\">字符</Option>\r\n\t\t\t\t\t\t<Option value=\"2\">整数</Option>\r\n\t\t\t\t\t\t<Option value=\"3\">小数</Option>\r\n\t\t\t\t\t\t<Option value=\"3\">时间</Option>\r\n\t\t\t\t\t</Select>\r\n\t\t\t\t</FormItem>\r\n\t\t\t\t<FormItem label=\"数据长度\" prop=\"attrSize\">\r\n\t\t\t\t\t<Input v-model=\"sD_FromData.attrSize\" placeholder=\"输入数据长度\"></Input>\r\n\t\t\t\t</FormItem>\r\n\t\t\t\t<FormItem label=\"是否为空\" prop=\"attrNullval\">\r\n\t\t\t\t\t<Select v-model=\"sD_FromData.attrNullval\" placeholder=\"是否为空\">\r\n\t\t\t\t\t\t<Option value=\"1\">是</Option>\r\n\t\t\t\t\t\t<Option value=\"2\">否</Option>\r\n\t\t\t\t\t</Select>\r\n\t\t\t\t</FormItem>\r\n\t\t\t\t<FormItem label=\"默认值\" prop=\"attrInitval\">\r\n\t\t\t\t\t<Input v-model=\"sD_FromData.attrInitval\" placeholder=\"输入数据长度\"></Input>\r\n\t\t\t\t</FormItem>\r\n\t\t\t\t<FormItem label=\"字段状态\" prop=\"attrStatus\">\r\n\t\t\t\t\t<Select v-model=\"sD_FromData.attrStatus\" placeholder=\"选择字段状态\">\r\n\t\t\t\t\t\t<Option value=\"1\">可编辑</Option>\r\n\t\t\t\t\t\t<Option value=\"2\">不可编辑</Option>\r\n\t\t\t\t\t</Select>\r\n\t\t\t\t</FormItem>\r\n\t\t\t</Form>\r\n\t\t\t<div slot=\"footer\" style=\"text-align: center;\">\r\n\t\t\t\t<Button type=\"primary\" ghost custom-icon=\"iconfont icon-166991\"\r\n\t\t\t\t\t@click=\"sD_FromSub('sD_FromData')\">保存</Button>\r\n\t\t\t\t<Button @click=\"sD_Modal=false\" icon=\"md-close\">取消</Button>\r\n\t\t\t</div>\r\n\t\t</Modal>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\ttableLoadding: false,\r\n\t\t\t\tsD_ModalTitle: '',\r\n\t\t\t\tsD_Modal: false,\r\n\t\t\t\tsD_FromData: {\r\n\t\t\t\t\tattrName: '',\r\n\t\t\t\t\tattrColname: '',\r\n\t\t\t\t\tdt: '',\r\n\t\t\t\t\tattrSize: '',\r\n\t\t\t\t\tattrNullval: '',\r\n\t\t\t\t\tattrInitval: '',\r\n\t\t\t\t\tattrStatus: '',\r\n\t\t\t\t},\r\n\t\t\t\tsD_PageData: {\r\n\t\t\t\t\tpageNow: '',\r\n\t\t\t\t\tpageSize: 10,\r\n\t\t\t\t\ttotalNum: 100\r\n\t\t\t\t},\r\n\t\t\t\tsD_FromRule: {\r\n\t\t\t\t\tattrName: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: '请输入字段中文名称',\r\n\t\t\t\t\t\ttrigger: 'blur'\r\n\t\t\t\t\t}],\r\n\t\t\t\t\tattrColname: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: '请输入字段英文名称',\r\n\t\t\t\t\t\ttrigger: 'blur'\r\n\t\t\t\t\t}],\r\n\t\t\t\t\tdt: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: '请选择字段类型',\r\n\t\t\t\t\t\ttrigger: 'change'\r\n\t\t\t\t\t}],\r\n\t\t\t\t\tattrSize: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: '请输入数据长度',\r\n\t\t\t\t\t\ttrigger: 'blur'\r\n\t\t\t\t\t}],\r\n\t\t\t\t\tattrNullval: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: '请选择是否可为空',\r\n\t\t\t\t\t\ttrigger: 'change'\r\n\t\t\t\t\t}],\r\n\t\t\t\t\tattrInitval: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: '请输入默认值',\r\n\t\t\t\t\t\ttrigger: 'blur'\r\n\t\t\t\t\t}],\r\n\t\t\t\t\tattrStatus: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: '请选择字段状态',\r\n\t\t\t\t\t\ttrigger: 'change'\r\n\t\t\t\t\t}],\r\n\t\t\t\t},\r\n\t\t\t\tsD_TableHeard: [{\r\n\t\t\t\t\ttitle: '请选择',\r\n\t\t\t\t\talign: 'center',\r\n\t\t\t\t\tkey: 'checkBox',\r\n\t\t\t\t\twidth: 80,\r\n\t\t\t\t\trender: (h, params) => {\r\n\t\t\t\t\t\tvar _this = this;\r\n\t\t\t\t\t\treturn h('div', [\r\n\t\t\t\t\t\t\th('Checkbox', {\r\n\t\t\t\t\t\t\t\tprops: {\r\n\t\t\t\t\t\t\t\t\tvalue: params.row.checkBox\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\ton: {\r\n\t\t\t\t\t\t\t\t\t'on-change': (e) => {\r\n\t\t\t\t\t\t\t\t\t\tif (e == false) {\r\n\t\t\t\t\t\t\t\t\t\t\t_this.disabled = true\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t_this.sD_TableData.forEach((items) => {\r\n\t\t\t\t\t\t\t\t\t\t\t_this.$set(items, 'checkBox', false)\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t_this.sD_TableData[params.index].checkBox = e;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t])\r\n\t\t\t\t\t}\r\n\t\t\t\t}, {\r\n\t\t\t\t\ttype: 'index',\r\n\t\t\t\t\twidth: 60,\r\n\t\t\t\t\talign: 'center'\r\n\t\t\t\t}, {\r\n\t\t\t\t\ttitle: 'Id',\r\n\t\t\t\t\tkey: 'id',\r\n\t\t\t\t}, {\r\n\t\t\t\t\ttitle: '中文名称',\r\n\t\t\t\t\tkey: 'attrName'\r\n\t\t\t\t}, {\r\n\t\t\t\t\ttitle: '英文名称',\r\n\t\t\t\t\tkey: 'attrColname'\r\n\t\t\t\t}, {\r\n\t\t\t\t\ttitle: '类型',\r\n\t\t\t\t\tslot: 'type',\r\n\t\t\t\t}, {\r\n\t\t\t\t\ttitle: '长度',\r\n\t\t\t\t\tkey: 'd5'\r\n\t\t\t\t}, {\r\n\t\t\t\t\ttitle: '是否为空',\r\n\t\t\t\t\tslot: 'isNull',\r\n\t\t\t\t}, {\r\n\t\t\t\t\ttitle: '默认值',\r\n\t\t\t\t\tkey: 'd7'\r\n\t\t\t\t}, {\r\n\t\t\t\t\ttitle: '状态',\r\n\t\t\t\t\tslot: 'state'\r\n\t\t\t\t}, {\r\n\t\t\t\t\ttitle: '创建时间',\r\n\t\t\t\t\tkey: 'd9'\r\n\t\t\t\t}],\r\n\t\t\t\tsD_TableData: []\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\ttablePageChange(e){\r\n\t\t\t\tthis.sD_PageData.pageNow = e;\r\n\t\t\t\tthis.sD_getTableData();\r\n\t\t\t},\r\n\t\t\t// 查询字典Table\r\n\t\t\tsD_getTableData() {\r\n\t\t\t\tthis.tableLoadding = true;\r\n\t\t\t\tlet getParam = {\r\n\t\t\t\t\tpage: this.sD_PageData.pageNow,\r\n\t\t\t\t\trows: 10,\r\n\t\t\t\t};\r\n\t\t\t\tthis.$get('getAttrs', getParam)\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tif (res.code != '200') {\r\n\t\t\t\t\t\t\tthis.tableLoadding = false;\r\n\t\t\t\t\t\t\tthis.errMsg(res.message);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.sD_TableData = res.data.rows;\r\n\t\t\t\t\t\t\tthis.sD_PageData.totalNum = res.data.total;\r\n\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\tthis.tableLoadding = false;\r\n\t\t\t\t\t\t\t}, 2000);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 新建任务\r\n\t\t\tsD_TableAdd() {\r\n\t\t\t\tthis.sD_ModalTitle = '新建';\r\n\t\t\t\tthis.sD_Modal = true;\r\n\t\t\t},\r\n\t\t\t// 编辑任务\r\n\t\t\tsD_TableAction(type) {\r\n\t\t\t\tlet sTD = this.sD_TableData;\r\n\t\t\t\tvar c;\r\n\t\t\t\tfor (var i = 0; i < sTD.length; i++) {\r\n\t\t\t\t\tif (sTD[i].checkBox) {\r\n\t\t\t\t\t\tc = sTD[i]\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (c == undefined) {\r\n\t\t\t\t\tthis.errMsg('请先选择字段')\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (type == 'edit') {\r\n\t\t\t\t\t\tthis.sD_ModalTitle = '编辑';\r\n\t\t\t\t\t\tthis.sD_Modal = true;\r\n\t\t\t\t\t} else if (type == 'del') {\r\n\t\t\t\t\t\tthis.$Modal.confirm({\r\n\t\t\t\t\t\t\ttitle: '删除',\r\n\t\t\t\t\t\t\tcontent: '删除后不可恢复，是否确定删除？',\r\n\t\t\t\t\t\t\tonOk: () => {\r\n\t\t\t\t\t\t\t\tthis.$Message.info('删除成功');\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tonCancel: () => {\r\n\t\t\t\t\t\t\t\tthis.$Message.info('取消删除');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else if (type == 'word') {\r\n\t\t\t\t\t\tconst msg = this.$Message.loading({\r\n\t\t\t\t\t\t\tcontent: '报告生成中...',\r\n\t\t\t\t\t\t\tduration: 0\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tsetTimeout(msg, 3000);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\t// 任务保存\r\n\t\t\tsD_FromSave() {\r\n\t\t\t\tthis.successMsg('保存成功!')\r\n\t\t\t\tthis.sD_Modal = false;\r\n\t\t\t},\r\n\t\t\t// 任务提交\r\n\t\t\t// fromName（表单ref）\r\n\t\t\tsD_FromSub(fromName) {\r\n\t\t\t\tvar _this = this;\r\n\t\t\t\tthis.$refs[fromName].validate((valid) => {\r\n\t\t\t\t\tif (valid) {\r\n\t\t\t\t\t\t_this.$post('addAttr', _this.sD_FromData)\r\n\t\t\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\t\t\tif (res.code != 200) {\r\n\t\t\t\t\t\t\t\t\t_this.$Message.error(res.message);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t_this.successMsg('保存成功!');\r\n\t\t\t\t\t\t\t\t\t_this.sF_Modal = false;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\tthis.successMsg('提交成功!')\r\n\t\t\t\t\t\tthis.sD_Modal = false;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.errMsg('必填项不可为空!')\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 成功消息提示\r\n\t\t\t// title（提示文字）\r\n\t\t\tsuccessMsg(title) {\r\n\t\t\t\tthis.$Message.success(title)\r\n\t\t\t},\r\n\t\t\t// 失败消息提示\r\n\t\t\t// err（提示文字）\r\n\t\t\terrMsg(err) {\r\n\t\t\t\tthis.$Message.error(err)\r\n\t\t\t},\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.sD_getTableData()\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.screenLine {\r\n\t\tmargin-left: 10px;\r\n\t\tmargin-right: 10px;\r\n\t}\r\n\r\n\t.systemDictionaryScreenInner {\r\n\t\tbackground-color: #fafafa;\r\n\t\tborder: 1px solid #dce0e6;\r\n\t}\r\n\r\n\t.systemDictionaryScreenInner .ivu-form-item {\r\n\t\tmargin-top: 15px;\r\n\t\tmargin-bottom: 15px;\r\n\t}\r\n\r\n\t.systemDictionaryTable {\r\n\t\tmargin-top: 20px;\r\n\t}\r\n\r\n\t.systemDictionaryTableBtn {\r\n\t\tmargin-bottom: 20px;\r\n\t}\r\n\r\n\t.systemDictionaryTableBtn button {\r\n\t\tmargin-right: 10px;\r\n\t}\r\n\r\n\t.systemDictionaryPage {\r\n\t\tmargin-top: 50px;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.addFromExpert {\r\n\t\twidth: 100%;\r\n\t\tmin-height: 60px;\r\n\t\tborder: 1px solid #dbdbdb;\r\n\t\tpadding: 5px;\r\n\t\tmargin-bottom: 16px;\r\n\t}\r\n</style>\n"]}]}