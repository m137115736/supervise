{"remainingRequest":"E:\\甘润\\技术监督\\supervise\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\甘润\\技术监督\\supervise\\src\\views\\user\\login.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\甘润\\技术监督\\supervise\\src\\views\\user\\login.vue","mtime":1623310802544},{"path":"E:\\甘润\\技术监督\\supervise\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1623122841293},{"path":"E:\\甘润\\技术监督\\supervise\\node_modules\\babel-loader\\lib\\index.js","mtime":1623122859414},{"path":"E:\\甘润\\技术监督\\supervise\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1623122841293},{"path":"E:\\甘润\\技术监督\\supervise\\node_modules\\vue-loader\\lib\\index.js","mtime":1623122856888}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {\n\tGVerify\n} from '../../libs/verifyCode';\nimport {\n\tsetToken\n} from '../../libs/util'\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tloginForm: {\n\t\t\t\tuser: '',\n\t\t\t\tpassword: '',\n\t\t\t\tverify: '',\n\t\t\t\ttype: ''\n\t\t\t},\n\t\t\truleInline: {\n\t\t\t\ttype: [{\n\t\t\t\t\trequired: true,\n\t\t\t\t\tmessage: '请选择账号类型',\n\t\t\t\t\ttrigger: 'change'\n\t\t\t\t}],\n\t\t\t\tuser: [{\n\t\t\t\t\trequired: true,\n\t\t\t\t\tmessage: '请输入管理员账号',\n\t\t\t\t\ttrigger: 'blur'\n\t\t\t\t}],\n\t\t\t\tpassword: [{\n\t\t\t\t\trequired: true,\n\t\t\t\t\tmessage: '请输入账号密码',\n\t\t\t\t\ttrigger: 'blur'\n\t\t\t\t}],\n\t\t\t\tverify: [{\n\t\t\t\t\trequired: true,\n\t\t\t\t\tmessage: '请输入图形验证码',\n\t\t\t\t\ttrigger: 'blur'\n\t\t\t\t}]\n\t\t\t},\n\t\t\tverify: null\n\t\t}\n\t},\n\tmethods: {\n\t\tloginSubmit(name) {\n\t\t\tvar _this = this;\n\t\t\t_this.$refs[name].validate((valid) => {\n\t\t\t\tif (valid) {\n\t\t\t\t\tvar verifyCode = _this.loginForm.verify;\n\t\t\t\t\tvar verifyFlag = _this.verify.validate(verifyCode);\n\t\t\t\t\tif (!verifyFlag) {\n\t\t\t\t\t\t_this.$Message.error('验证码输入错误');\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t_this.verify.refresh()\n\t\t\t\t\t\t\t_this.loginForm.verify = '';\n\t\t\t\t\t\t}, 100);\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (_this.loginForm.type == '1') {\n\t\t\t\t\t\t\tlet logindata = {\n\t\t\t\t\t\t\t\tadminnumber: _this.loginForm.user,\n\t\t\t\t\t\t\t\tadminpassword: _this.loginForm.password\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t_this.$post('/admin/logoAdmin', logindata)\n\t\t\t\t\t\t\t\t.then((res) => {\n\t\t\t\t\t\t\t\t\tif (res.code != '0000') {\n\t\t\t\t\t\t\t\t\t\t_this.$Message.error(res.message);\n\t\t\t\t\t\t\t\t\t\t_this.verify.refresh()\n\t\t\t\t\t\t\t\t\t\t_this.loginForm.verify = '';\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tsetToken(res.data);\n\t\t\t\t\t\t\t\t\t\t_this.$Message.success('登录成功!');\n\t\t\t\t\t\t\t\t\t\t_this.$router.push('home')\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t}\n\n\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t_this.$Message.error('必填不可为空');\n\t\t\t\t\t_this.loginForm.verify = '';\n\t\t\t\t\t_this.verify.refresh();\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t},\n\tmounted() {\n\t\tthis.verify = new GVerify('v_container')\n\t}\n}\n",{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"login.vue","sourceRoot":"src/views/user","sourcesContent":["<template>\r\n\t<div id=\"login\">\r\n\t\t<div class=\"loginMain\">\r\n\t\t\t<!-- <h2 class=\"loginMainTitle\">Arxsys 远程会诊管理系统</h2> -->\r\n\t\t\t<div class=\"loginForm\">\r\n\t\t\t\t<Form ref=\"loginForm\" :model=\"loginForm\" :rules=\"ruleInline\">\r\n\t\t\t\t\t<!-- <FormItem prop=\"type\">\r\n\t\t\t\t\t\t<RadioGroup v-model=\"loginForm.type\" type=\"button\">\r\n\t\t\t\t\t\t\t<Radio label=\"1\" style=\"width: 100px\">管理员账号</Radio>\r\n\t\t\t\t\t\t\t<Radio label=\"2\" style=\"width: 100px\">专家端账号</Radio>\r\n\t\t\t\t\t\t\t<Radio label=\"3\" style=\"width: 100px\">申请端账号</Radio>\r\n\t\t\t\t\t\t</RadioGroup>\r\n\t\t\t\t\t</FormItem> -->\r\n\t\t\t\t\t<FormItem prop=\"user\">\r\n\t\t\t\t\t\t<Input prefix=\"md-person\" placeholder=\"请输入管理员账号\" v-model=\"loginForm.user\" size=\"large\" />\r\n\t\t\t\t\t</FormItem>\r\n\t\t\t\t\t<FormItem prop=\"password\">\r\n\t\t\t\t\t\t<Input type=\"password\" prefix=\"md-lock\" placeholder=\"请输入密码\" v-model=\"loginForm.password\"\r\n\t\t\t\t\t\t\tsize=\"large\" />\r\n\t\t\t\t\t</FormItem>\r\n\t\t\t\t\t<FormItem prop=\"verify\">\r\n\t\t\t\t\t\t<Input class=\"verifyEnter\" type=\"text\" prefix=\"md-apps\" placeholder=\"请输入验证码\"\r\n\t\t\t\t\t\t\tv-model=\"loginForm.verify\" size=\"large\" />\r\n\t\t\t\t\t\t<div class=\"verifyCode\" id=\"v_container\"></div>\r\n\t\t\t\t\t</FormItem>\r\n\t\t\t\t\t<FormItem>\r\n\t\t\t\t\t\t<Button type=\"primary\" @click=\"loginSubmit('loginForm')\" long size=\"large\">登录</Button>\r\n\t\t\t\t\t</FormItem>\r\n\t\t\t\t</Form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tGVerify\r\n\t} from '../../libs/verifyCode';\r\n\timport {\r\n\t\tsetToken\r\n\t} from '../../libs/util'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tloginForm: {\r\n\t\t\t\t\tuser: '',\r\n\t\t\t\t\tpassword: '',\r\n\t\t\t\t\tverify: '',\r\n\t\t\t\t\ttype: ''\r\n\t\t\t\t},\r\n\t\t\t\truleInline: {\r\n\t\t\t\t\ttype: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: '请选择账号类型',\r\n\t\t\t\t\t\ttrigger: 'change'\r\n\t\t\t\t\t}],\r\n\t\t\t\t\tuser: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: '请输入管理员账号',\r\n\t\t\t\t\t\ttrigger: 'blur'\r\n\t\t\t\t\t}],\r\n\t\t\t\t\tpassword: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: '请输入账号密码',\r\n\t\t\t\t\t\ttrigger: 'blur'\r\n\t\t\t\t\t}],\r\n\t\t\t\t\tverify: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: '请输入图形验证码',\r\n\t\t\t\t\t\ttrigger: 'blur'\r\n\t\t\t\t\t}]\r\n\t\t\t\t},\r\n\t\t\t\tverify: null\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tloginSubmit(name) {\r\n\t\t\t\tvar _this = this;\r\n\t\t\t\t_this.$refs[name].validate((valid) => {\r\n\t\t\t\t\tif (valid) {\r\n\t\t\t\t\t\tvar verifyCode = _this.loginForm.verify;\r\n\t\t\t\t\t\tvar verifyFlag = _this.verify.validate(verifyCode);\r\n\t\t\t\t\t\tif (!verifyFlag) {\r\n\t\t\t\t\t\t\t_this.$Message.error('验证码输入错误');\r\n\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t_this.verify.refresh()\r\n\t\t\t\t\t\t\t\t_this.loginForm.verify = '';\r\n\t\t\t\t\t\t\t}, 100);\r\n\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif (_this.loginForm.type == '1') {\r\n\t\t\t\t\t\t\t\tlet logindata = {\r\n\t\t\t\t\t\t\t\t\tadminnumber: _this.loginForm.user,\r\n\t\t\t\t\t\t\t\t\tadminpassword: _this.loginForm.password\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t_this.$post('/admin/logoAdmin', logindata)\r\n\t\t\t\t\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\t\t\t\t\tif (res.code != '0000') {\r\n\t\t\t\t\t\t\t\t\t\t\t_this.$Message.error(res.message);\r\n\t\t\t\t\t\t\t\t\t\t\t_this.verify.refresh()\r\n\t\t\t\t\t\t\t\t\t\t\t_this.loginForm.verify = '';\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\tsetToken(res.data);\r\n\t\t\t\t\t\t\t\t\t\t\t_this.$Message.success('登录成功!');\r\n\t\t\t\t\t\t\t\t\t\t\t_this.$router.push('home')\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t_this.$Message.error('必填不可为空');\r\n\t\t\t\t\t\t_this.loginForm.verify = '';\r\n\t\t\t\t\t\t_this.verify.refresh();\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.verify = new GVerify('v_container')\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\tbody {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tbackground-image: url(../../assets/login.jpg);\r\n\t\tbackground-repeat: no-repeat;\r\n\t\tbackground-size: 100% 100vh;\r\n\t}\r\n\r\n\t.loginMain {\r\n\t\twidth: 500px;\r\n\t\theight: 500px;\r\n\t\tbackground: rgba(255, 255, 255, 0.8);\r\n\t\tmargin: 0 auto;\r\n\t\tposition: relative;\r\n\t\ttop: 50%;\r\n\t\tmargin-top: 250px;\r\n\r\n\t\tpadding: 20px;\r\n\t\tborder-radius: 10px;\r\n\t}\r\n\r\n\t.loginMainTitle {\r\n\t\tmargin-top: 40px;\r\n\t\tfont-weight: lighter;\r\n\t\tfont-size: 32px;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.loginForm {\r\n\t\twidth: 300px;\r\n\t\tmargin: 40px auto;\r\n\t}\r\n\r\n\t.verifyEnter {\r\n\t\twidth: 200px;\r\n\t\tmargin-right: 3px;\r\n\r\n\t}\r\n\r\n\t.verifyCode {\r\n\t\twidth: calc(100% - 205px);\r\n\t\tbackground-color: #D7DDE4;\r\n\t\theight: 40px;\r\n\t\tdisplay: inline-block;\r\n\t\tposition: relative;\r\n\t\tvertical-align: middle;\r\n\t\tborder-radius: 4px;\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\tinput::-webkit-input-placeholder {\r\n\t\tfont-size: 14px;\r\n\t}\r\n\r\n\tselect::-webkit-input-placeholder {\r\n\t\tfont-size: 14px;\r\n\t}\r\n</style>\n"]}]}